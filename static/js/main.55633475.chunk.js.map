{"version":3,"sources":["pages/About.js","pages/Article.js","pages/Home.js","pages/NewArticle.js","pages/NotFound.js","App.js","index.js"],"names":["About","className","Article","API_URI","params","useParams","useState","article","setArticle","mdParser","MarkdownIt","linkify","useEffect","fetch","id","then","response","status","json","Error","data","catch","error","message","title","author","dangerouslySetInnerHTML","__html","render","JSON","parse","role","Home","articles","setArticles","navigate","useNavigate","ok","map","i","style","cursor","onClick","_id","Date","date","toLocaleDateString","undefined","weekday","year","month","day","toLocaleTimeString","NewArticle","editorText","setEditorText","setAuthor","setTitle","setResponse","errors","setErrors","a","checkInputs","requestOptions","method","headers","body","stringify","text","checkResponse","res","msg","tempErrors","trim","length","push","type","indexOf","onChange","e","target","value","maxLength","placeholder","submitClick","height","renderHTML","html","NotFound","App","CustomLink","children","to","props","resolved","useResolvedPath","match","useMatch","path","pathname","end","color","element","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.55633475.chunk.js","sourcesContent":["function About() {\n    return (\n        <div className=\"text-center mt-3\">\n            <h1>About</h1>\n        </div>\n    )\n}\n\nexport default About;\n","import { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport MarkdownIt from \"markdown-it\";\n\nfunction Article({ API_URI }) {\n    let params = useParams();\n    const [article, setArticle] = useState();\n\n    const mdParser = new MarkdownIt({\n        linkify: true        // Autoconvert URL-like text to links\n    });\n\n    useEffect(() => {\n        fetch(API_URI + '/articles/' + params.id)\n            .then(response => {\n                if (response.status === 200) return response.json();\n                else throw new Error('Failed to load article.');\n            })\n            .then(data => {\n                setArticle(data);\n            })\n            .catch((error) => {\n                setArticle(error);\n            })\n    }, [params.id, API_URI]);\n\n    return (\n        <div className=\"container mw mt-3\">\n            {!article ?\n                (\n                    <div className=\"text-center\">\n                        <div className=\"spinner-border\" role=\"status\">\n                            <span className=\"visually-hidden\">Loading...</span>\n                        </div>\n                    </div>\n                ) :\n                article instanceof Error ?\n                    (\n                        <div className=\"text-center\">\n                            <h1>{article.message}</h1>\n                        </div>\n                    ) :\n                    (\n                        <div>\n                            <div className=\"text-center\">\n                                <h1>{article.title}</h1>\n                                <p>By {article.author}</p>\n                            </div>\n                            <hr />\n                            <div dangerouslySetInnerHTML={{ __html: (mdParser.render(JSON.parse(article.article))) }}>\n                            </div>\n                        </div>\n                    )\n            }\n        </div>\n    )\n}\n\nexport default Article;\n","import { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction Home({ API_URI }) {\n\n  const [articles, setArticles] = useState();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    fetch(API_URI + '/articles')\n      .then(response => {\n        if (response.ok) return response.json();\n        else throw new Error('Failed to fetch data.');\n      })\n      .then(data => {\n        setArticles(data);\n      })\n      .catch((error) => {\n        setArticles(error);\n      })\n  }, [API_URI]);\n\n  return (\n    <div className=\"container-fluid p-3 mw\">\n      {!articles ?\n        (\n          <div className=\"text-center\">\n            <div className=\"spinner-border\" role=\"status\">\n              <span className=\"visually-hidden\">Loading...</span>\n            </div>\n          </div>\n        ) :\n        articles instanceof Error ?\n          (\n            <div className=\"text-center\">\n              <h2>{articles.message}</h2>\n            </div>\n          ) :\n          articles.map((article, i) => {\n            return (\n              <div className=\"card text-left mb-4 shadow\" key={i} style={{ cursor: \"pointer\" }} onClick={() => navigate('/articles/' + article._id)}>\n                <div className=\"card-header\">\n                  {article.author}\n                </div>\n                <div className=\"card-body\">\n                  <h5 className=\"card-title mt-2 text-center\">{article.title}</h5>\n                  {//<p className=\"card-text\">{article.article}</p>\n                  }\n                </div>\n                <div className=\"card-footer text-muted text-right\">\n                  {new Date(article.date).toLocaleDateString(undefined, { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}&nbsp;&nbsp;&nbsp;{new Date(article.date).toLocaleTimeString()}\n                </div>\n              </div>\n            )\n          })\n      }\n    </div>\n  );\n}\n\nexport default Home;\n","import MarkdownIt from 'markdown-it';\nimport { useState } from 'react';\nimport MdEditor from 'react-markdown-editor-lite';\nimport 'react-markdown-editor-lite/lib/index.css';\n\nfunction NewArticle({ API_URI }) {\n\n    const [editorText, setEditorText] = useState('');\n    const [author, setAuthor] = useState('');\n    const [title, setTitle] = useState('');\n    const [response, setResponse] = useState();\n    const [errors, setErrors] = useState([]);\n\n    const mdParser = new MarkdownIt({\n        linkify: true        // Autoconvert URL-like text to links\n    });\n\n    function handleEditorChange({ html, text }) {\n        setEditorText(text);\n    }\n\n    async function submitClick() {\n        // POST request using fetch with async/await\n        if (!checkInputs()) {\n            setResponse(-1);\n            return;\n        }\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                author: author,\n                title: title,\n                text: editorText\n            })\n        };\n        try {\n            const response = await fetch(API_URI + '/post_article', requestOptions);\n            const data = await response.json();\n            checkResponse(data);\n        } catch {\n            setResponse(-1);\n        }\n    }\n\n    function checkResponse(res) {\n        if (res.msg === \"success\") {\n            setResponse(1);\n            setAuthor('');\n            setTitle('');\n            setEditorText('');\n        } else {\n            setResponse(-1);\n        }\n    }\n\n    function checkInputs() {\n        const tempErrors = [];\n        if (author.trim().length < 1 || author.trim().length > 100) {\n            tempErrors.push('author')\n        }\n        if (title.trim().length < 1 || title.trim().length > 100) {\n            tempErrors.push('title');\n        }\n        if (editorText.trim().length < 1) {\n            tempErrors.push('editor');\n        }\n        if (tempErrors.length > 0) {\n            setErrors(tempErrors);\n            return false;\n        } else {\n            setErrors([]);\n            return true;\n        }\n    }\n\n    return (\n        <div className=\"mt-3 mw container\">\n            <h1 className=\"mb-3\">New Article</h1>\n            {response === 1 ? (\n                <div className=\"alert alert-success alert-dismissible fade show\" role=\"alert\">\n                    Article was posted succesfully!\n                    <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\" onClick={() => {\n                        setResponse();\n                        setErrors([]);\n                    }}></button>\n                </div>\n            ) : response === -1 && (\n                <div className=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\n                    Posting article failed!\n                    <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\" onClick={() => setResponse()}></button>\n                </div>\n            )}\n            <div className=\"d-flex justify-content-between mb-3 text-center wrap\">\n                <div className=\"wrap me-3\">\n                    <div className={errors.indexOf('author') !== -1 && response === -1 ? \"input-group my-2 mw-sm rounded border border-danger\" : \"input-group my-2 mw-sm\"}>\n                        <span className=\"input-group-text\" id=\"basic-addon1\">Author:</span>\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            onChange={(e) => setAuthor(e.target.value)}\n                            value={author}\n                            maxLength=\"100\"\n                            placeholder=\"Author\"\n                            aria-label=\"Author\"\n                            aria-describedby=\"basic-addon1\" />\n                    </div>\n                    <div className={errors.indexOf('title') !== -1 && response === -1 ? \"input-group my-2 mw-sm rounded border border-1 border-danger\" : \"input-group my-2 mw-sm\"}>\n                        <span className=\"input-group-text\" id=\"basic-addon1\">&nbsp;&nbsp;&nbsp;&nbsp;Title:</span>\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            onChange={(e) => setTitle(e.target.value)}\n                            value={title}\n                            maxLength=\"100\"\n                            placeholder=\"Title\"\n                            aria-label=\"Title\" />\n                    </div>\n                </div>\n                <div className=\"ms-3\">\n                    <button onClick={() => submitClick()} className=\"btn btn-primary inline-flex my-2\">Submit</button>\n                </div>\n            </div>\n            <MdEditor\n                className={errors.indexOf('editor') !== -1 && response === -1 ? \"border border-danger\" : \"rounded\"}\n                value={editorText}\n                style={{ height: '60vh' }}\n                renderHTML={text => mdParser.render(text)}\n                onChange={handleEditorChange} />\n            <div className=\"mb-3\"></div>\n        </div>\n    )\n}\n\nexport default NewArticle;\n","function NotFound() {\n    return(\n        <div className=\"container py-5 text-center\">\n            <h1>Page Not Found</h1>\n        </div>\n    )\n}\n\nexport default NotFound;\n","import {\n  HashRouter,\n  Routes,\n  Route,\n  Link,\n  useMatch,\n  useResolvedPath\n} from \"react-router-dom\";\n\nimport About from \"./pages/About\";\nimport Article from \"./pages/Article\";\nimport Home from \"./pages/Home\";\nimport NewArticle from \"./pages/NewArticle\";\nimport NotFound from \"./pages/NotFound\"\n\nconst API_URI = \"https://rocky-falls-75959.herokuapp.com\";\n\nfunction App() {\n\n  \n\n  function CustomLink({ children, to, ...props }) {\n    let resolved = useResolvedPath(to);\n    let match = useMatch({ path: resolved.pathname, end: true });\n    return (\n      <div>\n        <Link\n          style={match && { color: \"white\" }}\n          to={to}\n          {...props}\n        >\n          {children}\n        </Link>\n      </div>\n    );\n  }\n\n  return (\n    <HashRouter>\n      <div>\n        <nav className=\"navbar navbar-expand-md navbar-dark bg-primary bg-gradient shadow\">\n          <div className=\"container-fluid\">\n            <Link className=\"navbar-brand\" to=\"/\">Blog App</Link>\n            <button\n              className=\"navbar-toggler\"\n              type=\"button\"\n              data-bs-toggle=\"collapse\"\n              data-bs-target=\"#navbarSupportedContent\"\n              aria-controls=\"navbarSupportedContent\"\n              aria-expanded=\"false\"\n              aria-label=\"Toggle navigation\"\n            >\n              <span className=\"navbar-toggler-icon\"></span>\n            </button>\n            <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n              <ul className=\"navbar-nav me-auto\">\n                <li className=\"nav-item\">\n                  <CustomLink className=\"nav-link\" to=\"/\">Home</CustomLink>\n                </li>\n                <li className=\"nav-item\">\n                  <CustomLink className=\"nav-link\" to=\"/new\">New Article</CustomLink>\n                </li>\n                <li className=\"nav-item\">\n                  <CustomLink className=\"nav-link\" to=\"/about\">About</CustomLink>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </nav>\n\n        <Routes>\n          <Route path=\"/\" element={<Home API_URI={API_URI}/>} />\n          <Route path=\"/new\" element={<NewArticle API_URI={API_URI}/>} />\n          <Route path=\"/about\" element={<About />} />\n          <Route path=\"/articles/:id\" element={<Article API_URI={API_URI}/>} />\n          <Route path=\"*\" element={<NotFound />} />\n        </Routes>\n\n      </div>\n    </HashRouter>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './style.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}