(this.webpackJsonpblog_frontend=this.webpackJsonpblog_frontend||[]).push([[0],{37:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(27),s=a.n(r),i=(a(37),a(18)),l=a(32),d=a(4),o=a(9),j=a(1);var b=function(){return Object(j.jsx)("div",{className:"text-center mt-3",children:Object(j.jsx)("h1",{children:"About"})})},u=a(6),h=a(10),m=a.n(h);var x=function(e){var t=e.API_URI,a=Object(d.h)(),c=Object(n.useState)(),r=Object(u.a)(c,2),s=r[0],i=r[1],l=new m.a({linkify:!0});return Object(n.useEffect)((function(){fetch(t+"/articles/"+a.id).then((function(e){if(200===e.status)return e.json();throw new Error("Failed to load article.")})).then((function(e){i(e)})).catch((function(e){i(e)}))}),[a.id,t]),Object(j.jsx)("div",{className:"container mw mt-3",children:s?s instanceof Error?Object(j.jsx)("div",{className:"text-center",children:Object(j.jsx)("h1",{children:s.message})}):Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"text-center",children:[Object(j.jsx)("h1",{children:s.title}),Object(j.jsxs)("p",{children:["By ",s.author]})]}),Object(j.jsx)("hr",{}),Object(j.jsx)("div",{dangerouslySetInnerHTML:{__html:l.render(JSON.parse(s.article))}})]}):Object(j.jsx)("div",{className:"text-center",children:Object(j.jsx)("div",{className:"spinner-border",role:"status",children:Object(j.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})})};var O=function(e){var t=e.API_URI,a=Object(n.useState)(),c=Object(u.a)(a,2),r=c[0],s=c[1],i=Object(d.g)();return Object(n.useEffect)((function(){fetch(t+"/articles").then((function(e){if(e.ok)return e.json();throw new Error("Failed to fetch data.")})).then((function(e){s(e)})).catch((function(e){s(e)}))}),[t]),Object(j.jsx)("div",{className:"container-fluid p-3 mw",children:r?r instanceof Error?Object(j.jsx)("div",{className:"text-center",children:Object(j.jsx)("h2",{children:r.message})}):r.map((function(e,t){return Object(j.jsxs)("div",{className:"card text-left mb-4 shadow",style:{cursor:"pointer"},onClick:function(){return i("/articles/"+e._id)},children:[Object(j.jsx)("div",{className:"card-header",children:e.author}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)("h5",{className:"card-title mt-2 text-center",children:e.title})}),Object(j.jsxs)("div",{className:"card-footer text-muted",children:[new Date(e.date).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"}),"\xa0\xa0\xa0",new Date(e.date).toLocaleTimeString()]})]},t)})):Object(j.jsx)("div",{className:"text-center",children:Object(j.jsx)("div",{className:"spinner-border",role:"status",children:Object(j.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})})},p=a(17),v=a.n(p),f=a(28),g=a(31);a(97);var N=function(e){var t=e.API_URI,a=Object(n.useState)(""),c=Object(u.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)(""),l=Object(u.a)(i,2),d=l[0],o=l[1],b=Object(n.useState)(""),h=Object(u.a)(b,2),x=h[0],O=h[1],p=Object(n.useState)(),N=Object(u.a)(p,2),y=N[0],w=N[1],k=Object(n.useState)([]),S=Object(u.a)(k,2),A=S[0],I=S[1],C=new m.a({linkify:!0});function _(){return(_=Object(f.a)(v.a.mark((function e(){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T()){e.next=3;break}return w(-1),e.abrupt("return");case 3:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({author:d,title:x,text:r})},e.prev=4,e.next=7,fetch(t+"/post_article",a);case 7:return n=e.sent,e.next=10,n.json();case 10:P(e.sent),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),w(-1);case 17:case"end":return e.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)}function P(e){"success"===e.msg?(w(1),o(""),O(""),s("")):w(-1)}function T(){var e=[];return(d.trim().length<1||d.trim().length>100)&&e.push("author"),(x.trim().length<1||x.trim().length>100)&&e.push("title"),r.trim().length<1&&e.push("editor"),e.length>0?(I(e),!1):(I([]),!0)}return Object(j.jsxs)("div",{className:"mt-3 mw container",children:[Object(j.jsx)("h1",{className:"mb-3",children:"New Article"}),1===y?Object(j.jsxs)("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:["Article was posted succesfully!",Object(j.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close",onClick:function(){w(),I([])}})]}):-1===y&&Object(j.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:["Posting article failed!",Object(j.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close",onClick:function(){return w()}})]}),Object(j.jsxs)("div",{className:"d-flex justify-content-between mb-3 text-center wrap",children:[Object(j.jsxs)("div",{className:"wrap me-3",children:[Object(j.jsxs)("div",{className:-1!==A.indexOf("author")&&-1===y?"input-group my-2 mw-sm rounded border border-danger":"input-group my-2 mw-sm",children:[Object(j.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:"Author:"}),Object(j.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return o(e.target.value)},value:d,maxLength:"100",placeholder:"Author","aria-label":"Author","aria-describedby":"basic-addon1"})]}),Object(j.jsxs)("div",{className:-1!==A.indexOf("title")&&-1===y?"input-group my-2 mw-sm rounded border border-1 border-danger":"input-group my-2 mw-sm",children:[Object(j.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:"\xa0\xa0\xa0\xa0Title:"}),Object(j.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return O(e.target.value)},value:x,maxLength:"100",placeholder:"Title","aria-label":"Title"})]})]}),Object(j.jsx)("div",{className:"ms-3",children:Object(j.jsx)("button",{onClick:function(){return function(){return _.apply(this,arguments)}()},className:"btn btn-primary inline-flex my-2",children:"Submit"})})]}),Object(j.jsx)(g.a,{className:-1!==A.indexOf("editor")&&-1===y?"border border-danger":"rounded",value:r,style:{height:"60vh"},renderHTML:function(e){return C.render(e)},onChange:function(e){e.html;var t=e.text;s(t)}}),Object(j.jsx)("div",{className:"mb-3"})]})};var y=function(){return Object(j.jsx)("div",{className:"container py-5 text-center",children:Object(j.jsx)("h1",{children:"Page Not Found"})})},w=["children","to"],k="https://rocky-falls-75959.herokuapp.com/";var S=function(){function e(e){var t=e.children,a=e.to,n=Object(l.a)(e,w),c=Object(d.i)(a),r=Object(d.f)({path:c.pathname,end:!0});return Object(j.jsx)("div",{children:Object(j.jsx)(o.b,Object(i.a)(Object(i.a)({style:r&&{color:"white"},to:a},n),{},{children:t}))})}return Object(j.jsx)(o.a,{children:Object(j.jsxs)("div",{children:[Object(j.jsx)("nav",{className:"navbar navbar-expand-md navbar-dark bg-primary bg-gradient shadow",children:Object(j.jsxs)("div",{className:"container-fluid",children:[Object(j.jsx)(o.b,{className:"navbar-brand",to:"/",children:"Blog App"}),Object(j.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(j.jsx)("span",{className:"navbar-toggler-icon"})}),Object(j.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(j.jsxs)("ul",{className:"navbar-nav me-auto",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(e,{className:"nav-link",to:"/",children:"Home"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(e,{className:"nav-link",to:"/new",children:"New Article"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(e,{className:"nav-link",to:"/about",children:"About"})})]})})]})}),Object(j.jsxs)(d.c,{children:[Object(j.jsx)(d.a,{path:"/",element:Object(j.jsx)(O,{API_URI:k})}),Object(j.jsx)(d.a,{path:"/new",element:Object(j.jsx)(N,{API_URI:k})}),Object(j.jsx)(d.a,{path:"/about",element:Object(j.jsx)(b,{})}),Object(j.jsx)(d.a,{path:"/articles/:id",element:Object(j.jsx)(x,{API_URI:k})}),Object(j.jsx)(d.a,{path:"*",element:Object(j.jsx)(y,{})})]})]})})};s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(S,{})}),document.getElementById("root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.6b18570f.chunk.js.map