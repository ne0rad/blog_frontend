{"version":3,"sources":["pages/About.js","pages/Article.js","pages/Home.js","pages/NewArticle.js","pages/NotFound.js","App.js","index.js"],"names":["About","className","Article","params","useParams","useState","article","setArticle","mdParser","MarkdownIt","linkify","useEffect","fetch","process","id","then","response","status","json","Error","data","catch","error","message","title","author","dangerouslySetInnerHTML","__html","render","JSON","parse","role","Home","Link","articles","setArticles","navigate","useNavigate","ok","map","i","style","cursor","onClick","_id","Date","date","toLocaleDateString","undefined","weekday","year","month","day","toLocaleTimeString","NewArticle","editorText","setEditorText","setAuthor","setTitle","setResponse","errors","setErrors","a","checkInputs","requestOptions","method","headers","body","stringify","text","checkResponse","res","msg","tempErrors","trim","length","push","type","indexOf","onChange","e","target","value","maxLength","placeholder","submitClick","height","renderHTML","html","NotFound","App","CustomLink","children","to","props","resolved","useResolvedPath","match","useMatch","path","pathname","end","color","element","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a2004027.chunk.js","sourcesContent":["function About() {\n    return (\n        <div className=\"text-center mt-3\">\n            <h1>About</h1>\n        </div>\n    )\n}\n\nexport default About;\n","import { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport MarkdownIt from \"markdown-it\";\n\nfunction Article() {\n    let params = useParams();\n    const [article, setArticle] = useState();\n\n    const mdParser = new MarkdownIt({\n        linkify: true        // Autoconvert URL-like text to links\n    });\n\n    useEffect(() => {\n        fetch(process.env.REACT_APP_API_URI + '/articles/' + params.id)\n            .then(response => {\n                if (response.status === 200) return response.json();\n                else throw new Error('Failed to load article.');\n            })\n            .then(data => {\n                setArticle(data);\n            })\n            .catch((error) => {\n                setArticle(error);\n            })\n    }, [params.id]);\n\n    return (\n        <div className=\"container mw mt-3\">\n            {!article ?\n                (\n                    <div className=\"text-center\">\n                        <div className=\"spinner-border\" role=\"status\">\n                            <span className=\"visually-hidden\">Loading...</span>\n                        </div>\n                    </div>\n                ) :\n                article instanceof Error ?\n                    (\n                        <div className=\"text-center\">\n                            <h1>{article.message}</h1>\n                        </div>\n                    ) :\n                    (\n                        <div>\n                            <div className=\"text-center\">\n                                <h1>{article.title}</h1>\n                                <p>By {article.author}</p>\n                            </div>\n                            <hr />\n                            <div dangerouslySetInnerHTML={{__html: (mdParser.render(JSON.parse(article.article)))}}>\n                            </div>\n                        </div>\n                    )\n            }\n        </div>\n    )\n}\n\nexport default Article;\n","import { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction Home({ Link }) {\n\n  const [articles, setArticles] = useState();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    fetch(process.env.REACT_APP_API_URI + '/articles')\n      .then(response => {\n        if (response.ok) return response.json();\n        else throw new Error('Failed to fetch data.');\n      })\n      .then(data => {\n        setArticles(data);\n      })\n      .catch((error) => {\n        setArticles(error);\n      })\n  }, []);\n\n  return (\n    <div className=\"container-fluid p-3 mw\">\n      {!articles ?\n        (\n          <div className=\"text-center\">\n            <div className=\"spinner-border\" role=\"status\">\n              <span className=\"visually-hidden\">Loading...</span>\n            </div>\n          </div>\n        ) :\n        articles instanceof Error ?\n          (\n            <h2>{articles.message}</h2>\n          ) :\n          articles.map((article, i) => {\n            return (\n              <div className=\"card text-left mb-4 shadow\" key={i} style={{ cursor: \"pointer\" }} onClick={() => navigate('/articles/' + article._id)}>\n                <div className=\"card-header\">\n                  {article.author}\n                </div>\n                <div className=\"card-body\">\n                  <h5 className=\"card-title mt-2 text-center\">{article.title}</h5>\n                  {//<p className=\"card-text\">{article.article}</p>\n                  }\n                </div>\n                <div className=\"card-footer text-muted\">\n                  {new Date(article.date).toLocaleDateString(undefined, { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}&nbsp;&nbsp;&nbsp;{new Date(article.date).toLocaleTimeString()}\n                </div>\n              </div>\n            )\n          })\n      }\n    </div>\n  );\n}\n\nexport default Home;\n","import MarkdownIt from 'markdown-it';\nimport { useState } from 'react';\nimport MdEditor from 'react-markdown-editor-lite';\nimport 'react-markdown-editor-lite/lib/index.css';\n\nfunction NewArticle() {\n\n    const [editorText, setEditorText] = useState('');\n    const [author, setAuthor] = useState('');\n    const [title, setTitle] = useState('');\n    const [response, setResponse] = useState();\n    const [errors, setErrors] = useState([]);\n\n    const mdParser = new MarkdownIt({\n        linkify: true        // Autoconvert URL-like text to links\n    });\n\n    function handleEditorChange({ html, text }) {\n        setEditorText(text);\n    }\n\n    async function submitClick() {\n        // POST request using fetch with async/await\n        if (!checkInputs()) {\n            setResponse(-1);\n            return;\n        }\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                author: author,\n                title: title,\n                text: editorText\n            })\n        };\n        try {\n            const response = await fetch(process.env.REACT_APP_API_URI + '/post_article', requestOptions);\n            const data = await response.json();\n            checkResponse(data);\n        } catch {\n            setResponse(-1);\n        }\n    }\n\n    function checkResponse(res) {\n        if (res.msg === \"success\") {\n            setResponse(1);\n            setAuthor('');\n            setTitle('');\n            setEditorText('');\n        } else {\n            setResponse(-1);\n        }\n    }\n\n    function checkInputs() {\n        const tempErrors = [];\n        if (author.trim().length < 1 || author.trim().length > 100) {\n            tempErrors.push('author')\n        }\n        if (title.trim().length < 1 || title.trim().length > 100) {\n            tempErrors.push('title');\n        }\n        if (editorText.trim().length < 1) {\n            tempErrors.push('editor');\n        }\n        if (tempErrors.length > 0) {\n            setErrors(tempErrors);\n            return false;\n        } else {\n            setErrors([]);\n            return true;\n        }\n    }\n\n    return (\n        <div className=\"mt-3 mw container\">\n            <h1 className=\"mb-3\">New Article</h1>\n            {response === 1 ? (\n                <div className=\"alert alert-success alert-dismissible fade show\" role=\"alert\">\n                    Article was posted succesfully!\n                    <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\" onClick={() => {\n                        setResponse();\n                        setErrors([]);\n                    }}></button>\n                </div>\n            ) : response === -1 && (\n                <div className=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\n                    Posting article failed!\n                    <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\" onClick={() => setResponse()}></button>\n                </div>\n            )}\n            <div className=\"d-flex justify-content-between mb-3 text-center wrap\">\n                <div className=\"wrap me-3\">\n                    <div className={errors.indexOf('author') !== -1 && response === -1 ? \"input-group my-2 mw-sm rounded border border-danger\" : \"input-group my-2 mw-sm\"}>\n                        <span className=\"input-group-text\" id=\"basic-addon1\">Author:</span>\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            onChange={(e) => setAuthor(e.target.value)}\n                            value={author}\n                            maxLength=\"100\"\n                            placeholder=\"Author\"\n                            aria-label=\"Author\"\n                            aria-describedby=\"basic-addon1\" />\n                    </div>\n                    <div className={errors.indexOf('title') !== -1 && response === -1 ? \"input-group my-2 mw-sm rounded border border-1 border-danger\" : \"input-group my-2 mw-sm\"}>\n                        <span className=\"input-group-text\" id=\"basic-addon1\">&nbsp;&nbsp;&nbsp;&nbsp;Title:</span>\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            onChange={(e) => setTitle(e.target.value)}\n                            value={title}\n                            maxLength=\"100\"\n                            placeholder=\"Title\"\n                            aria-label=\"Title\" />\n                    </div>\n                </div>\n                <div className=\"ms-3\">\n                    <button onClick={() => submitClick()} className=\"btn btn-primary inline-flex my-2\">Submit</button>\n                </div>\n            </div>\n            <MdEditor\n                className={errors.indexOf('editor') !== -1 && response === -1 ? \"border border-danger\" : \"rounded\"}\n                value={editorText}\n                style={{ height: '60vh' }}\n                renderHTML={text => mdParser.render(text)}\n                onChange={handleEditorChange} />\n            <div className=\"mb-3\"></div>\n        </div>\n    )\n}\n\nexport default NewArticle;\n","function NotFound() {\n    return(\n        <div className=\"container py-5 text-center\">\n            <h1>Page Not Found</h1>\n        </div>\n    )\n}\n\nexport default NotFound;\n","import {\n  BrowserRouter as Router,\n  Routes,\n  Route,\n  Link,\n  useMatch,\n  useResolvedPath\n} from \"react-router-dom\";\n\nimport About from \"./pages/About\";\nimport Article from \"./pages/Article\";\nimport Home from \"./pages/Home\";\nimport NewArticle from \"./pages/NewArticle\";\nimport NotFound from \"./pages/NotFound\"\n\nfunction App() {\n\n  \n\n  function CustomLink({ children, to, ...props }) {\n    let resolved = useResolvedPath(to);\n    let match = useMatch({ path: resolved.pathname, end: true });\n    return (\n      <div>\n        <Link\n          style={match && { color: \"white\" }}\n          to={to}\n          {...props}\n        >\n          {children}\n        </Link>\n      </div>\n    );\n  }\n\n  return (\n    <Router>\n      <div>\n        <nav className=\"navbar navbar-expand-md navbar-dark bg-primary bg-gradient shadow\">\n          <div className=\"container-fluid\">\n            <Link className=\"navbar-brand\" to=\"/\">Blog App</Link>\n            <button\n              className=\"navbar-toggler\"\n              type=\"button\"\n              data-bs-toggle=\"collapse\"\n              data-bs-target=\"#navbarSupportedContent\"\n              aria-controls=\"navbarSupportedContent\"\n              aria-expanded=\"false\"\n              aria-label=\"Toggle navigation\"\n            >\n              <span className=\"navbar-toggler-icon\"></span>\n            </button>\n            <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n              <ul className=\"navbar-nav me-auto\">\n                <li className=\"nav-item\">\n                  <CustomLink className=\"nav-link\" to=\"/\">Home</CustomLink>\n                </li>\n                <li className=\"nav-item\">\n                  <CustomLink className=\"nav-link\" to=\"/new\">New Article</CustomLink>\n                </li>\n                <li className=\"nav-item\">\n                  <CustomLink className=\"nav-link\" to=\"/about\">About</CustomLink>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </nav>\n\n        <Routes>\n          <Route path=\"/\" element={<Home Link={Link} />} />\n          <Route path=\"/new\" element={<NewArticle />} />\n          <Route path=\"/about\" element={<About />} />\n          <Route path=\"/articles/:id\" element={<Article />} />\n          <Route path=\"*\" element={<NotFound />} />\n        </Routes>\n\n      </div>\n    </Router>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './style.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}